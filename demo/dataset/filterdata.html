<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Jslet dataset data filtering">
    <title>Jslet - Data Filtering</title>
    <link rel="stylesheet" type="text/css" href="../css/demo-style.css" />
    <script type="text/javascript" src="../../loader/jslet.loader.js"></script>
    <script type="text/javascript">
        jslet.define("employee", "../js/employee.js");
        jslet.require("jslet,employee");

        function showAll() {
            dsEmployee.filtered(false);
        }
    </script>
</head>
<body onunload="jslet.ui.uninstall()">
	<div class="container">
    <div class="page-header">
    <h2 id="top">Jslet - Data Filtering</h2>
	</div>
<!--[if lt IE 8]>
<p class="chromeframe">Jslet framework only supports IE 8+. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
	<div class="content">Filter data with an expression.</div>
    <table style="width: 100%">
        <tr>
            <td style="width:70%;padding-right:10px">
                <p>Employee List(Dataset's name: employee):</p>
                <div data-jslet='type:"DBTable",dataset:"employee"' style="width: 100%; height: 200px">
                </div>
            </td>
            <td>
                <p>Department List(Dataset's name:department):</p>
                <div data-jslet='type:"DBTable",dataset:"department"' style="width: 100%; height: 200px">
                </div>
            </td>
        </tr>
    </table>
	
    <h3>Demo Content:</h3>
	<div class="content">
	<ul>
    <li>
        <h4>Filter Data with input data:</h4></li>
    <ol>
        <li>
            Filter out all male employees:&nbsp;&nbsp;
				<input type="text" id="filter1" value="[gender]=='M'" size="30" />
				<button onclick="dsEmployee.filter($('#filter1').val());dsEmployee.filtered(true);"> Filter </button>
					<button onclick="showAll()"> All </button>
		</li>
        <li>Filter out all employees whose age is great than 25:&nbsp;&nbsp;
			<input type="text" id="filter3" value="[age]>25" size="30" />
			<button onclick="dsEmployee.filter($('#filter3').val());dsEmployee.filtered(true);"> Filter </button>
			<button onclick="showAll()"> All </button>
		</li>
        <li>Filter out all employees whose graduated university name contains "Harvard":&nbsp;&nbsp;
			<input type="text" id="filter5" value="like([university],'%Harvard%')" size="30" name="T1" />
			<button onclick="dsEmployee.filter($('#filter5').val());dsEmployee.filtered(true);"> Filter </button>
			<button onclick="showAll()"> All </button>
		</li>
        <li>Filter out all employees whose age is between 20 and 30:&nbsp;&nbsp;
			<input type="text" id="filter6" value="between([age],20,30)" size="30" />
			<button onclick="dsEmployee.filter($('#filter6').val());dsEmployee.filtered(true);"> Filter </button>
			<button onclick="showAll()"> All </button>
		</li>
        <li>Filter out all employees whose age is 22, 25 or 26: &nbsp;&nbsp;
			<input type="text" id="filter7" value="inlist([age],22,25,26)" size="30" />
			<button onclick="dsEmployee.filter($('#filter7').val());dsEmployee.filtered(true);"> Filter </button>
			<button onclick="showAll()"> All </button>
		</li>
        <li>Filter out all employees who is born in February:&nbsp;&nbsp;
			<input type="text" id="filter8" value="[birthday].getMonth()==1" size="30" />
			<button onclick="dsEmployee.filter($('#filter8').val());dsEmployee.filtered(true);"> Filter </button>
			<button onclick="showAll()"> All </button>
		</li>
    </ol>
    <li>
        <h4>Filter data with a field value which's in other dataset: </h4>
        Filter out all employees whose department equals department id in dataset "department":
		<input type="text" id="filter9" value="[department]==[department!deptid]" size="32" />
		<button onclick="dsEmployee.filter($('#filter9').val());dsEmployee.filtered(true);"> Filter </button>
		<button onclick="showAll()"> All </button><br />
		(Move cursor in "Department" dataset and click "Filter" button)
    </li>
	</ul>
	</div>
	<!-- Source Code -->
	<script type="text/javascript" src="../source/demosource.js?height=700"></script>
	</div>
</body>
</html>
